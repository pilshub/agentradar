import { Player, TeamColors } from "@/types";

// Use the internal proxy API that fetches from SofaScore with name fallback
const sofascoreImg = (id: string, name: string) =>
  `/api/player-image?id=${id}&name=${encodeURIComponent(name)}`;

export const PLAYERS: Player[] = [
  // ============ REAL BETIS ============
  {
    id: "isco",
    name: "Isco",
    fullName: "Francisco Román Alarcón Suárez",
    team: "Real Betis",
    position: "Centrocampista",
    nationality: "España",
    age: 32,
    number: 22,
    photo: sofascoreImg("129522", "Isco"),
    transfermarktId: "59876",
    transfermarktUrl: "https://www.transfermarkt.es/isco/profil/spieler/59876",
    marketValue: "3M €",
  },
  {
    id: "lo-celso",
    name: "Lo Celso",
    fullName: "Giovani Lo Celso",
    team: "Real Betis",
    position: "Centrocampista",
    nationality: "Argentina",
    age: 28,
    number: 18,
    photo: sofascoreImg("796362", "Lo Celso"),
    transfermarktId: "348795",
    transfermarktUrl: "https://www.transfermarkt.es/giovani-lo-celso/profil/spieler/348795",
    marketValue: "20M €",
  },
  {
    id: "chimy-avila",
    name: "Chimy Ávila",
    fullName: "Ezequiel Ávila",
    team: "Real Betis",
    position: "Delantero",
    nationality: "Argentina",
    age: 30,
    number: 9,
    photo: sofascoreImg("858498", "Chimy Avila"),
    transfermarktId: "282921",
    transfermarktUrl: "https://www.transfermarkt.es/chimy-avila/profil/spieler/282921",
    marketValue: "8M €",
  },
  {
    id: "abde",
    name: "Abde",
    fullName: "Abdessamad Ezzalzouli",
    team: "Real Betis",
    position: "Extremo",
    nationality: "Marruecos",
    age: 22,
    number: 11,
    photo: sofascoreImg("1081636", "Abde"),
    transfermarktId: "762656",
    transfermarktUrl: "https://www.transfermarkt.es/abde-ezzalzouli/profil/spieler/762656",
    marketValue: "15M €",
  },
  {
    id: "rui-silva",
    name: "Rui Silva",
    fullName: "Rui Pedro Silva Soares",
    team: "Real Betis",
    position: "Portero",
    nationality: "Portugal",
    age: 30,
    number: 13,
    photo: sofascoreImg("344407", "Rui Silva"),
    transfermarktId: "206094",
    transfermarktUrl: "https://www.transfermarkt.es/rui-silva/profil/spieler/206094",
    marketValue: "8M €",
  },
  {
    id: "marc-bartra",
    name: "Marc Bartra",
    fullName: "Marc Bartra Aregall",
    team: "Real Betis",
    position: "Defensa central",
    nationality: "España",
    age: 33,
    number: 5,
    photo: sofascoreImg("114100", "Marc Bartra"),
    transfermarktId: "67195",
    transfermarktUrl: "https://www.transfermarkt.es/marc-bartra/profil/spieler/67195",
    marketValue: "2M €",
  },
  {
    id: "william-carvalho",
    name: "William Carvalho",
    fullName: "William Silva de Carvalho",
    team: "Real Betis",
    position: "Centrocampista",
    nationality: "Portugal",
    age: 32,
    number: 14,
    photo: sofascoreImg("162691", "William Carvalho"),
    transfermarktId: "131470",
    transfermarktUrl: "https://www.transfermarkt.es/william-carvalho/profil/spieler/131470",
    marketValue: "4M €",
  },
  {
    id: "johnny-cardoso",
    name: "Johnny Cardoso",
    fullName: "John Anthony Cardoso",
    team: "Real Betis",
    position: "Centrocampista",
    nationality: "Estados Unidos",
    age: 22,
    number: 6,
    photo: sofascoreImg("977748", "Johnny Cardoso"),
    transfermarktId: "543209",
    transfermarktUrl: "https://www.transfermarkt.es/johnny-cardoso/profil/spieler/543209",
    marketValue: "25M €",
  },
  // ============ SEVILLA FC ============
  {
    id: "lukebakio",
    name: "Lukebakio",
    fullName: "Dodi Lukebakio",
    team: "Sevilla FC",
    position: "Extremo derecho",
    nationality: "Bélgica",
    age: 27,
    number: 17,
    photo: sofascoreImg("823631", "Lukebakio"),
    transfermarktId: "331972",
    transfermarktUrl: "https://www.transfermarkt.es/dodi-lukebakio/profil/spieler/331972",
    marketValue: "15M €",
  },
  {
    id: "saul",
    name: "Saúl",
    fullName: "Saúl Ñíguez Esclapez",
    team: "Sevilla FC",
    position: "Centrocampista",
    nationality: "España",
    age: 29,
    number: 8,
    photo: sofascoreImg("288923", "Saul"),
    transfermarktId: "127042",
    transfermarktUrl: "https://www.transfermarkt.es/saul-niguez/profil/spieler/127042",
    marketValue: "10M €",
  },
  {
    id: "isaac-romero",
    name: "Isaac Romero",
    fullName: "Isaac Romero Fernández",
    team: "Sevilla FC",
    position: "Delantero centro",
    nationality: "España",
    age: 24,
    number: 9,
    photo: sofascoreImg("993636", "Isaac Romero"),
    transfermarktId: "693450",
    transfermarktUrl: "https://www.transfermarkt.es/isaac-romero/profil/spieler/693450",
    marketValue: "12M €",
  },
  {
    id: "jesus-navas",
    name: "Jesús Navas",
    fullName: "Jesús Navas González",
    team: "Sevilla FC",
    position: "Lateral derecho",
    nationality: "España",
    age: 38,
    number: 16,
    photo: sofascoreImg("22574", "Jesus Navas"),
    transfermarktId: "18850",
    transfermarktUrl: "https://www.transfermarkt.es/jesus-navas/profil/spieler/18850",
    marketValue: "500K €",
  },
  {
    id: "en-nesyri",
    name: "En-Nesyri",
    fullName: "Youssef En-Nesyri",
    team: "Sevilla FC",
    position: "Delantero centro",
    nationality: "Marruecos",
    age: 27,
    number: 15,
    photo: sofascoreImg("862069", "En-Nesyri"),
    transfermarktId: "335842",
    transfermarktUrl: "https://www.transfermarkt.es/youssef-en-nesyri/profil/spieler/335842",
    marketValue: "20M €",
  },
  {
    id: "gudelj",
    name: "Gudelj",
    fullName: "Nemanja Gudelj",
    team: "Sevilla FC",
    position: "Centrocampista",
    nationality: "Serbia",
    age: 33,
    number: 6,
    photo: sofascoreImg("134953", "Gudelj"),
    transfermarktId: "93522",
    transfermarktUrl: "https://www.transfermarkt.es/nemanja-gudelj/profil/spieler/93522",
    marketValue: "3M €",
  },
  {
    id: "loic-bade",
    name: "Loïc Badé",
    fullName: "Loïc Badé",
    team: "Sevilla FC",
    position: "Defensa central",
    nationality: "Francia",
    age: 24,
    number: 4,
    photo: sofascoreImg("934258", "Loic Bade"),
    transfermarktId: "476440",
    transfermarktUrl: "https://www.transfermarkt.es/loic-bade/profil/spieler/476440",
    marketValue: "25M €",
  },
  {
    id: "djibril-sow",
    name: "Djibril Sow",
    fullName: "Djibril Sow",
    team: "Sevilla FC",
    position: "Centrocampista",
    nationality: "Suiza",
    age: 27,
    number: 20,
    photo: sofascoreImg("812605", "Djibril Sow"),
    transfermarktId: "318853",
    transfermarktUrl: "https://www.transfermarkt.es/djibril-sow/profil/spieler/318853",
    marketValue: "18M €",
  },
];

export const TEAM_COLORS: TeamColors = {
  "Real Betis": {
    primary: "bg-green-600",
    secondary: "bg-green-100",
    text: "text-green-800",
  },
  "Sevilla FC": {
    primary: "bg-red-600",
    secondary: "bg-red-100",
    text: "text-red-800",
  },
};

export const getPlayersByTeam = () => {
  return {
    "Real Betis": PLAYERS.filter((p) => p.team === "Real Betis"),
    "Sevilla FC": PLAYERS.filter((p) => p.team === "Sevilla FC"),
  };
};

export const getPlayerById = (id: string): Player | undefined => {
  return PLAYERS.find((p) => p.id === id);
};
